{"version":3,"sources":["../../src/providers/sync/sync.ts","../../src/pages/products/products.ts","../../src/providers/voucher/voucher.ts","../../src/pages/login/login.ts","../../src/pages/scan/scan.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/confirmation-modal/confirmation-modal.ts","../../src/pages/form-modal/form-modal.ts","../../src/model/vendor.ts","../../src/texts/global.ts","../../src/providers/login/login.ts","../../src/providers/wsse/wsse.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/texts/global_fr.ts","../../src/texts/global_en.ts","../../src/texts/global_ar.ts","../../src/components/components.module.ts","../../src/components/header/header.ts","../../src/components/calculator/calculator.ts","../../src/interceptors/index-interceptors.ts","../../src/interceptors/auth-interceptor.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { Voucher } from '../../model/voucher';\nimport { Product } from '../../model/product';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\n\n@Injectable()\nexport class SyncProvider {\n\n  private products = new BehaviorSubject<Product[]>([])\n\n  constructor(public http: HttpClient, private storage: Storage) {\n  }\n\n  URL_BMS_API: string = process.env.URL_BMS_API;\n\n  sync(vouchers: Voucher[], booklets: string[]) {\n    return new Promise((resolve, reject) => {\n      this.sendVouchers(vouchers).subscribe((response) => {\n        this.sendBooklets(booklets).subscribe((response) => {\n          this.getDeactivatedBooklets().then(success => {\n            resolve(success)\n          }), error => {\n            reject(error)\n          }\n        }, error => {\n          reject(error)\n        })\n      }, error => {\n        reject(error)\n      })\n    })\n  }\n  \n  sendVouchers(vouchers: Voucher[]) {\n    return  this.http.post(this.URL_BMS_API + '/vouchers/scanned', vouchers)\n  }\n\n  sendBooklets(booklets: string[]) {\n    return this.http.post(this.URL_BMS_API + '/deactivate-booklets', booklets)\n  }\n\n  getDeactivatedBooklets() {\n    return new Promise((resolve, reject) => {\n      this.http.get<Array<object>>(this.URL_BMS_API + '/deactivated-booklets').subscribe(deactivatedBooklets => {\n        let deactivatedBookletIds = []\n        deactivatedBooklets.forEach(booklet => {\n          deactivatedBookletIds.push(booklet['id'])\n        })\n        this.storage.set('deactivatedBooklets', deactivatedBookletIds)\n        resolve(deactivatedBooklets)\n      }, error => {\n        reject(error)\n      })\n    })\n  }\n\n  getProductsFromApi() {\n    return new Promise((resolve, reject) => {\n      this.http.get<Array<Product>>(this.URL_BMS_API + '/products').subscribe(products => {\n        let productList = []\n        products.forEach(product => {\n          productList.push({\n            id: product.id,\n            name: product.name,\n            unit: product.unit,\n            image: product.image\n          })\n        })\n        this.products.next(productList)\n        resolve(products)\n      }, error => {\n        reject(error)\n      })\n    })\n  }\n\n  getProducts(): BehaviorSubject<Product[]> {\n    return this.products\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/sync/sync.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { ScanPage } from '../scan/scan';\nimport { VoucherProvider } from '../../providers/voucher/voucher';\nimport { Product } from '../../model/product';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { SyncProvider } from '../../providers/sync/sync';\n\n/**\n * Generated class for the ProductsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n\tselector: 'page-products',\n\ttemplateUrl: 'products.html',\n})\nexport class ProductsPage {\n\n\tproducts$: BehaviorSubject<Product[]>;\n\n\t// public products: Array<Product> = [\n\t// \t{\n\t// \t\t'id': 1,\n\t// \t\t'name': 'soap',\n\t// \t\t'image': '../../assets/imgs/soap.jpg',\n\t// \t\t'unit': 'Unit'\n\t// \t},\n\t// \t{\n\t// \t\t'id': 2,\n\t// \t\t'name': 'toothbrush',\n\t// \t\t'image': '../../assets/imgs/toothbrush.jpg',\n\t// \t\t'unit': 'KG'\n\t// \t},\n\t// \t{\n\t// \t\t'id': 3,\n\t// \t\t'name': 'pear',\n\t// \t\t'image': '../../assets/imgs/pear.jpg',\n\t// \t\t'unit': 'KG'\n\t// \t},\n\t// \t{\n\t// \t\t'id': 4,\n\t// \t\t'name': 'rice',\n\t// \t\t'image': '../../assets/imgs/rice.jpg',\n\t// \t\t'unit': 'KG'\n\t// \t},\n\t// \t{\n\t// \t\t'id': 5,\n\t// \t\t'name': 'flour',\n\t// \t\t'image': '../../assets/imgs/flour.jpg',\n\t// \t\t'unit': 'KG'\n\t// \t},\n\t// \t{\n\t// \t\t'id': 6,\n\t// \t\t'name': 'toothpaste',\n\t// \t\t'image': '../../assets/imgs/toothpaste.jpg',\n\t// \t\t'unit': 'Unit'\n\t// \t},\n\t// \t{\n\t// \t\t'id': 7,\n\t// \t\t'name': 'apple',\n\t// \t\t'image': '../../assets/imgs/apples.jpeg',\n\t// \t\t'unit': 'KG'\n\t// \t},\n\t// \t{\n\t// \t\t'id': 8,\n\t// \t\t'name': 'brush',\n\t// \t\t'image': '../../assets/imgs/hairbrush.jpg',\n\t// \t\t'unit': ''\n\t// \t},\n\t// \t{\n\t// \t\t'id': 9,\n\t// \t\t'name': 'cherry',\n\t// \t\t'image': '../../assets/imgs/cherries.jpg',\n\t// \t\t'unit': 'KG'\n\t// \t},\n\t// \t{\n\t// \t\t'id': 10,\n\t// \t\t'name': 'book',\n\t// \t\t'image': '../../assets/imgs/book.png',\n\t// \t\t'unit': 'Unit'\n\t// \t},\n\t// \t{\n\t// \t\t'id': 11,\n\t// \t\t'name': 'cake',\n\t// \t\t'image': '../../assets/imgs/cake.jpg',\n\t// \t\t'unit': ''\n\t// \t}\n\t// ];\n    \n\tpublic isItemSelected: boolean = false;\n\tpublic selectedProduct: Product = null;\n\tpublic allChosenProducts: Array<any> = [];\n\t\n    public typing: string = 'quantity';\n    public quantity: number;\n    public price: number;\n\tpublic total: number = 0;\n    \n\tconstructor(\n\t\tpublic navCtrl: NavController,\n\t\tpublic navParams: NavParams,\n\t\tpublic voucherProvider: VoucherProvider,\n\t\tprivate syncProvider: SyncProvider\n\t) {\n\t}\n\n\tgoToScanPage() {\n\t\tthis.voucherProvider.setPrice(this.total);\n\t\tthis.voucherProvider.setChosenProducts(this.allChosenProducts);\n\t\tthis.navCtrl.push(ScanPage);\n\t}\n\n\tselectProduct(product) {\n\t\tif (product == this.selectedProduct) {\n\t\t\tthis.clearSelection();\n\t\t} else {\n            this.clearSelection();\n\t\t\tthis.isItemSelected = true;\n\t\t\tthis.selectedProduct = product;\n\t\t}\n\t}\n\n\tanimateDrawer(drawer) {\n\t\tdrawer.close();\n\t\tsetTimeout(() => {\n\t\t\tdrawer.open();\n\t\t}, 300);\n\t}\n    \n\taddToBasket() {\n        if (this.quantity && this.price) {\n            this.allChosenProducts.push({\n\t\t\t\tproduct: this.selectedProduct,\n\t\t\t\tquantity: this.quantity,\n\t\t\t\tprice: this.price,\n\t\t\t\tsubTotal: this.price * this.quantity\n\t\t\t});\n    \t\tthis.allChosenProducts.forEach(element => {\n                this.total += element.subTotal\n            });\n        }\n        this.clearSelection();\n\t}\n    \n    clearSelection() {\n        this.isItemSelected = false;\n        this.selectedProduct = null;\n        this.typing = 'quantity';\n        this.quantity = null;\n        this.price = null;\n    }\n\n\tclearItemList() {\n\t\tthis.allChosenProducts = [];\n\t\tthis.total = 0;\n\t}\n\n\tngOnInit() {\n\t\tthis.products$ = this.syncProvider.getProducts()\n\t\tthis.products$.subscribe(products => {\n\t\t\tconsole.log(products)\n\t\t\t// console.log(this.products)\n\t\t})\n\t  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/products/products.ts","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Voucher } from '../../model/voucher'\nimport { Storage } from '@ionic/storage';\nimport { ChosenProduct } from '../../model/chosenProduct';\n\n@Injectable()\nexport class VoucherProvider {\n\n  private price = new BehaviorSubject<number>(0);\n  private chosenProducts = new BehaviorSubject<ChosenProduct[]>([])\n\n  constructor(public http: HttpClient, private storage: Storage) {\n  }\n\n  setPrice(price: number): void {\n    this.price.next(price)\n  }\n\n  getPrice(): BehaviorSubject<number> {\n    return this.price\n  }\n\n  setChosenProducts(chosenProducts: ChosenProduct[]): void {\n    this.chosenProducts.next(chosenProducts)\n  }\n\n  getChosenProducts(): BehaviorSubject<ChosenProduct[]> {\n    return this.chosenProducts\n  }\n\n  scanVouchers(vouchers: Voucher[]): void {\n    this.storage.get(\"vouchers\").then(cacheVouchers => {\n      let alreadyStoredVouchers = cacheVouchers || [];\n      vouchers.forEach(voucher => {\n        alreadyStoredVouchers.push(voucher)\n      })\n      this.storage.set(\"vouchers\", alreadyStoredVouchers)\n    });\n    \n  } \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/voucher/voucher.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { Vendor } from '../../model/vendor'\nimport { GlobalText } from '../../texts/global';\nimport { ProductsPage } from '../products/products';\nimport { LoginProvider } from '../../providers/login/login';\nimport { AlertController } from 'ionic-angular';\nimport { SyncProvider } from '../../providers/sync/sync';\n\n@Component({\n  selector: 'page-login',\n  templateUrl: './login.html'\n})\nexport class LoginPage {\n\n  public login = GlobalText.TEXTS;\n  public vendor: Vendor;\n  public loader: boolean = false;\n\n  constructor(\n    public navCtrl: NavController,\n    public loginProvider: LoginProvider,\n    private alertCtrl: AlertController,\n    private syncProvider: SyncProvider) {\n  }\n\n  ngOnInit() {\n    this.blankUser();\n}\n\nclickSubmit() {\n  this.loader = true;\n  this.loginProvider.login(this.vendor).then((vendor) => {\n    this.syncProvider.getDeactivatedBooklets().then(success => {\n      this.syncProvider.getProductsFromApi().then(success => {\n        this.navCtrl.setRoot(ProductsPage);\n      }, error => {\n        this.loader = false;\n        let alert = this.alertCtrl.create({\n          title: 'Login failed',\n          subTitle: 'There was a connection problem, please verify your connection and try again',\n          buttons: ['OK']\n          });\n        alert.present();\n      })\n    }), error => {\n      this.loader = false;\n      let alert = this.alertCtrl.create({\n        title: 'Login failed',\n        subTitle: 'There was a connection problem, please verify your connection and try again',\n        buttons: ['OK']\n        });\n      alert.present();\n    }\n  }, error => {\n    this.loader = false;\n    let alert = this.alertCtrl.create({\n      title: 'Login failed',\n      subTitle: error,\n      buttons: ['OK']\n      });\n    alert.present();\n  })\n}\n\nblankUser() {\n  this.vendor = new Vendor();\n  this.vendor.username = '';\n  this.vendor.password = '';\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, Modal } from 'ionic-angular';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { VoucherProvider } from '../../providers/voucher/voucher';\nimport { Vendor } from '../../model/vendor'\nimport { Storage } from '@ionic/storage';\nimport { Voucher } from '../../model/voucher';\nimport { ProductsPage } from '../products/products';\nimport { ConfirmationModal } from '../confirmation-modal/confirmation-modal';\nimport { FormModal } from '../form-modal/form-modal';\nimport { ChosenProduct } from '../../model/chosenProduct';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-scan',\n  templateUrl: 'scan.html',\n})\nexport class ScanPage {\n\n  vouchers: Array<Voucher> = [];\n  vouchersTotalValue: number = 0;\n  price$: BehaviorSubject<number>;\n  chosenProducts$: BehaviorSubject<ChosenProduct[]>;\n  errorMessage: string = '';\n  successMessage: string = '';\n  vendor: Vendor;\n  scanDisabled: boolean = false;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private barcodeScanner: BarcodeScanner,\n    public voucherProvider: VoucherProvider,\n    private storage: Storage,\n    public modalController: ModalController) \n  {\n  }\n\n  ngOnInit() {\n    this.price$ = this.voucherProvider.getPrice()\n    this.chosenProducts$ = this.voucherProvider.getChosenProducts()\n    this.price$.subscribe(price => {})\n    this.chosenProducts$.subscribe(products => { \n      if (products.length <= 0) {\n        this.scanDisabled = true\n        this.errorMessage = 'You haven\\'t selected any product, please go back to the previous page.'\n      }\n    })\n    this.storage.get('vendor').then(vendor => {\n      this.vendor = vendor\n    })\n  }\n\n  scanCode() {\n    let scannedCode = ''\n    this.successMessage = ''\n    this.errorMessage = ''\n    this.barcodeScanner.scan().then(barcodeData => {\n      scannedCode = barcodeData.text\n      // all the logic can be moved in here when the scan can be tested\n    })\n    // meanwhile... (to test, the encoded password is 'secret-password')\n    scannedCode = 'USD140#096-098-096-1-avPBIe1KdSk2wpfN37ewA5TqvxA=' // to delete after\n\n    if (this.ifHasNoPasswordGetInfo(scannedCode)) {\n      this.handleScannedCode(scannedCode, this.ifHasNoPasswordGetInfo(scannedCode))\n    }\n  }\n\n  ifHasNoPasswordGetInfo(scannedCode : string) : string[] {\n    let scannedCodeInfo = scannedCode.match(/^([A-Z]+)(\\d+)#([\\d]..-[\\d]..-[\\d]..)-([\\da-z]+)-([\\da-z=]+)$/i)\n    if (scannedCodeInfo !== null) {\n      this.openPasswordModal(scannedCode, scannedCodeInfo)\n    } else {\n      scannedCodeInfo = scannedCode.match(/^([A-Z]+)(\\d+)#([\\d]..-[\\d]..-[\\d]..)-([\\da-z]+)$/i)\n      return scannedCodeInfo\n    }\n  }\n\n  getBookletIdFromCode(booklet: string) : number {\n    return parseInt(booklet.split('-').pop())\n  }\n\n  openPasswordModal(scannedCode : string, scannedCodeInfo : string[]) {\n    let okMessage = 'Submit'\n    let cancelButton = 'Go back to the scan page'\n    const modal = this.modalController.create(FormModal, {\n      title: 'Password',\n      message: 'Please enter the voucher\\'s password',\n      okButton: okMessage,\n      cancelButton: cancelButton,\n      saltedPassword: scannedCodeInfo[5],\n      triesMessage: 'Be aware that you have only three tries before your booklet deactivates.',\n      tries: 3\n    });\n\n    modal.onDidDismiss(data => {\n      if(data === okMessage) {\n        this.handleScannedCode(scannedCode, scannedCodeInfo)\n      } else if (data === cancelButton) {\n        return\n      } else {\n        this.storage.get(\"deactivatedBooklets\").then(cacheBooklets => {\n          let alreadyStoredBooklets = cacheBooklets || [];\n          alreadyStoredBooklets.push(this.getBookletIdFromCode(scannedCodeInfo[3]))\n          this.storage.set(\"deactivatedBooklets\", alreadyStoredBooklets)\n        });\n        this.errorMessage = 'You have exceeded your tries at password, your booklet will be deactivated'\n        return\n      }\n    })\n    modal.present();\n  }\n\n  handleScannedCode (scannedCode : string, scannedCodeInfo : string[]) {\n      if (scannedCodeInfo === null) {\n        this.errorMessage = 'Your code isn\\'t the right format, are you sure it is a BMS Voucher ?'\n      }\n      let previousBooklet = this.vouchers.length ? this.vouchers[0].booklet : null\n      previousBooklet = '096-098-096' // to delete after\n      let newBooklet = scannedCodeInfo[3]\n\n      this.storage.get(\"deactivatedBooklets\").then(deactivatedBooklets => {\n        if (deactivatedBooklets && deactivatedBooklets.includes(this.getBookletIdFromCode(newBooklet))) {\n          this.errorMessage = 'You cannot use this booklet because it has previously been deactivated.'\n          return\n        }\n        if (previousBooklet && previousBooklet !== newBooklet) {\n          this.openDifferentBookletModal()\n          return\n        }\n\n        let productIds = [];\n        this.chosenProducts$.getValue().forEach(chosenPoduct => {\n          productIds.push(chosenPoduct.product.id)\n        })\n        this.vouchers.push({\n          id: scannedCodeInfo[4],\n          qrCode: scannedCode,\n          vendorId: this.vendor.id,\n          productIds: productIds,\n          price: this.price$.getValue(),\n          currency: scannedCodeInfo[1],\n          value: parseInt(scannedCodeInfo[2]),\n          booklet: scannedCodeInfo[3],\n          used_at: new Date()\n        })\n        let scannedCodeValue = scannedCodeInfo[2]\n        this.vouchersTotalValue += parseInt(scannedCodeValue)\n\n        if (this.vouchersTotalValue >= this.price$.getValue()) {\n          this.setMessageSuccess(scannedCodeInfo[1])\n        } else {\n          this.errorMessage = 'Your vouchers (' + this.vouchersTotalValue + scannedCodeInfo[1] +\n            ') are not high enough to pay ' + this.price$.getValue() + '.' +\n            `<br> Please scann another one`\n        }\n      })\n  }\n\n  setMessageSuccess(currency : string) {\n    let productsList = \"\"\n      this.chosenProducts$.getValue().forEach(product => {\n        productsList += product.quantity +\n          (product.product.unit !== 'Unit' ? product.product.unit + \" of \" : \" \") +\n          product.product.name + \", \"\n      })\n      let vouchersList = \"\"\n      this.vouchers.forEach(voucher => {\n        vouchersList += '-' + voucher.qrCode + \" : \" + voucher.value + \" \" + voucher.currency + `<br>`\n      })\n      this.successMessage = \"You have scanned sufficient vouchers. You can now complete the transaction of \" +\n      productsList + \"for a total of \" + this.price$.getValue() +\n      \" using \" + this.vouchers.length + \" voucher(s) : \" + `<br>` + vouchersList\n      if (this.vouchersTotalValue > this.price$.getValue()) {\n        this.successMessage += `You still have ` + (this.vouchersTotalValue - this.price$.getValue()) + currency + ` available on your vouchers.\n          However, they will be considered fully used and cannot be used again. If you would like to add\n         further items to your basket, you can go back now and add them, but you will need to scan your vouchers again.`\n      }\n  }\n\n  async openDifferentBookletModal() {\n    let okMessage = 'Cancel transaction and go back to the product page'\n    const modal = await this.modalController.create(ConfirmationModal, {\n      title: 'Vouchers from a different booklet',\n      message: 'You now are using the booklet of another beneficiary.' +\n      ' Are you sure you want to end the previous transaction and move on to a new one?' +\n      ' Your previous vouchers won\\'t be considered as used and your products list will empty.',\n      okButton: okMessage,\n      cancelButton: 'Go back to the scan page'\n    });\n    modal.onDidDismiss(data =>{\n      if(data === okMessage) { \n        this.cancelTransaction()\n      }\n    })\n    return await modal.present();\n  }\n\n  async openProceedModal() {\n    let okMessage = 'Proceed and go back to the product page'\n    const modal = await this.modalController.create(ConfirmationModal, {\n      title: 'Proceed transaction',\n      message: 'Are you sure you want to proceed with this transaction ?' +\n      ' Your vouchers will be considered as used and kept by the vendor.',\n      okButton: okMessage,\n      cancelButton: 'Go back to the scan page'\n    });\n    modal.onDidDismiss(data =>{\n      if(data === okMessage) { \n        this.completeTransaction()\n      }\n    })\n    return await modal.present();\n  }\n\n  async openCancelModal() {\n    let okMessage = 'Cancel transaction and go back to the product page'\n    const modal = await this.modalController.create(ConfirmationModal, {\n      title: 'Cancel transaction',\n      message: 'Are you sure you want to cancel this transaction ?' +\n      ' Your vouchers won\\'t be considered as used and your products list will empty.',\n      okButton: okMessage,\n      cancelButton: 'Go back to the scan page'\n    });\n    modal.onDidDismiss(data =>{\n      if(data === okMessage) { \n        this.cancelTransaction()\n      }\n    })\n    return await modal.present();\n  }\n\n  completeTransaction() {\n    this.voucherProvider.scanVouchers(this.vouchers)\n    this.navCtrl.push(ProductsPage);\n  }\n\n  cancelTransaction() {\n    this.vouchers = []\n    this.vouchersTotalValue = 0;\n    this.voucherProvider.setPrice(null)\n    this.voucherProvider.setChosenProducts([])\n    this.navCtrl.push(ProductsPage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/scan/scan.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 209;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 209\n// module chunks = 2","var map = {\n\t\"../pages/products/products.module\": [\n\t\t807,\n\t\t1\n\t],\n\t\"../pages/scan/scan.module\": [\n\t\t808,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 251;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 251\n// module chunks = 2","import { Component } from '@angular/core';\nimport { ViewController } from 'ionic-angular';\nimport { NavParams } from 'ionic-angular';\n\n@Component({\n  selector: 'confirmation-modal',\n  templateUrl: 'confirmation-modal.html'\n})\nexport class ConfirmationModal {\n\n  constructor(public viewCtrl : ViewController, public navParams: NavParams) {}\n  \n  public title: string = '';\n  public message: string = '';\n  public okButton: string = '';\n  public cancelButton: string = '';\n\n\n  public closeModal(){\n    this.viewCtrl.dismiss(null);\n  }\n\n  public accept() {\n    this.viewCtrl.dismiss(this.okButton)\n  }\n\n  ngOnInit() { \n      this.title = this.navParams.get('title')\n      this.message = this.navParams.get('message')\n      this.okButton = this.navParams.get('okButton')\n      this.cancelButton = this.navParams.get('cancelButton')\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/confirmation-modal/confirmation-modal.ts","import { Component } from '@angular/core';\nimport { ViewController } from 'ionic-angular';\nimport { NavParams } from 'ionic-angular';\nimport CryptoJS from 'crypto-js';\n\n@Component({\n  selector: 'form-modal',\n  templateUrl: 'form-modal.html'\n})\nexport class FormModal {\n\n  constructor(public viewCtrl : ViewController, public navParams: NavParams) {}\n  \n  public title: string = '';\n  public message: string = '';\n  public okButton: string = '';\n  public cancelButton: string = '';\n  public typedPassword: string;\n  public expectedSaltedPassword: string;\n  public tries: number;\n  public triesMessage: string;\n\n\n  public closeModal(){\n    this.viewCtrl.dismiss(this.cancelButton);\n  }\n\n  public accept() {\n    if (this.typedPassword && this.salt(this.typedPassword) === this.expectedSaltedPassword) {\n      this.viewCtrl.dismiss(this.okButton)\n    }\n    else {\n      this.tries -= 1\n      if (this.tries === 0) {\n        this.viewCtrl.dismiss(null)\n      }\n      this.triesMessage = 'You didn\\'t type the right password. You have only ' +\n        this.tries + ' tries left.'\n    }\n  }\n\n  public salt(password: string) : string {\n    return CryptoJS.SHA1(password).toString(CryptoJS.enc.Base64)\n  }\n\n  ngOnInit() { \n      this.title = this.navParams.get('title')\n      this.message = this.navParams.get('message')\n      this.okButton = this.navParams.get('okButton')\n      this.cancelButton = this.navParams.get('cancelButton')\n      this.expectedSaltedPassword = this.navParams.get('saltedPassword')\n      this.triesMessage = this.navParams.get('triesMessage')\n      this.tries = this.navParams.get('tries')\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/form-modal/form-modal.ts","import { GlobalText } from \"../texts/global\";\n\nexport class ErrorInterface {\n  message: string;\n}\n\nexport class Vendor {\n  static __classname__ = 'Vendor';\n  /**\n   * User id\n   * @type {string}\n   */\n  id: string = '';\n  /**\n   * Username\n   * @type {string}\n   */\n  username: string = '';\n  /**\n   * Plain text password\n   * @type {string}\n   */\n  password: string = '';\n  /**\n   * Salted password\n   * @type {string}\n   */\n  salted_password: string = '';\n  /**\n   * Name\n   * @type {string}\n   */\n  name: string = '';\n  /**\n   * Shop\n   * @type {string}\n   */\n  \n  shop: string = '';\n  /**\n   * Address\n   * @type {string}\n   */\n  address: string = '';\n  /**\n   * loggedIn state\n   * @type {boolean}\n   */\n  loggedIn: boolean = false;\n  /**\n   * Vendor's vouchers\n   * @type {string[]}\n   */\n  products: string[] = [];\n  /**\n   * Vendor's country\n   * @type {number[]}\n   */\n  country: string[] = undefined;\n  /**\n   * Vendor's language\n   * @type {string}\n   */\n  language: string = '';\n\n  constructor(instance?) {\n      if (instance !== undefined) {\n          this.id = instance.id;\n          this.username = instance.username;\n          this.password = instance.password;\n          this.name = instance.name;\n          this.shop = instance.shop;\n          this.address = instance.address;\n          this.salted_password = instance.salted_password;\n          this.products = instance.products;\n          this.country = instance.country;\n          this.loggedIn = instance.loggedIn;\n          this.language = instance.language;\n      }\n  }\n\n  public static getDisplayedName() {\n      return GlobalText.TEXTS.model_user;\n  }\n\n  static mapAllProperties(selfinstance): Object {\n      if (!selfinstance)\n          return selfinstance;\n\n      let products = [];\n      selfinstance.products.forEach(product => {\n          products.push(product);\n      });\n\n      return {\n          id: selfinstance.id,\n          name: selfinstance.name,\n          username: selfinstance.username,\n          shop: selfinstance.shop,\n          salted_password: selfinstance.salted_password,\n          address: selfinstance.address,\n          products: products,\n          country: selfinstance.country\n      }\n  }\n\n  /**\n  * return User properties name displayed\n  */\n  static translator(): Object {\n      return {\n          username: GlobalText.TEXTS.email,\n          password: GlobalText.TEXTS.model_user_password,\n          rights: GlobalText.TEXTS.rights,\n          projects: GlobalText.TEXTS.project,\n          country: GlobalText.TEXTS.model_countryIso3,\n      }\n  }\n\n  public static getAllCountries() {\n      return [\n          {\n              'id': \"KHM\",\n              'name': \"Cambodia\",\n          },\n          {\n              'id': \"SYR\",\n              'name': \"Syria\",\n          }\n      ];\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/vendor.ts","import { TEXT as TEXT_FR } from \"./global_fr\";\nimport { TEXT as TEXT_EN } from \"./global_en\";\nimport { TEXT as TEXT_AR } from \"./global_ar\";\n\nexport class GlobalText {\n    static language = 'en';\n    static languages = ['en', 'fr', 'ar'];\n    static TEXTS = TEXT_EN;\n    static country;\n\n    static maxHeight = 700;\n    static maxWidthMobile = 750;\n    static maxWidthFirstRow = 1000;\n    static maxWidthSecondRow = 800;\n    static maxWidth = 750;\n\n    public static changeLanguage(language : string = this.language) {\n        GlobalText.language = language;\n\n        switch (language) {\n            case 'en':\n                GlobalText.TEXTS = TEXT_EN;\n                break;\n            case 'fr':\n                GlobalText.TEXTS = TEXT_FR;\n                break;\n            case 'ar':\n                GlobalText.TEXTS = TEXT_AR;\n                break;\n            default: GlobalText.TEXTS = TEXT_EN; \n                break;\n        }\n        this.language = language;\n        this.adaptMargin();\n    }\n\n    private static adaptMargin() {\n        const element = document.getElementsByTagName(\"mat-sidenav-content\") as HTMLCollectionOf<HTMLElement>;\n\n        if(window.innerHeight > this.maxHeight || window.innerWidth > this.maxWidth) {\n            if(this.language === 'ar') {\n                document.getElementsByTagName('html')[0].setAttribute('dir', 'rtl');\n                element[0].style.margin = \"0px 64px 0px 0px\";\n            } else {\n                document.getElementsByTagName('html')[0].setAttribute('dir', '');\n                element[0].style.margin = \"0px 0px 0px 64px\";\n            }\n        } else {\n            this.resetMenuMargin();\n        }\n    }\n\n    public static resetMenuMargin() {\n        const element = document.getElementsByTagName(\"mat-sidenav-content\") as HTMLCollectionOf<HTMLElement>;\n        element[0].style.margin = \"0px 0px 0px 0px\";\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/texts/global.ts","import { Injectable } from '@angular/core';\nimport { Vendor } from '../../model/vendor';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport * as CryptoJS from 'crypto-js';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\nimport { Storage } from '@ionic/storage';\nimport { SaltInterface } from '../../model/salt';\n\n\n@Injectable()\nexport class LoginProvider {\n\n  private vendor = new Vendor;\n  URL_BMS_API: string = process.env.URL_BMS_API;\n\n  constructor(public http: HttpClient, private storage: Storage) {\n  }\n\n  requestSalt(username: string): Observable<SaltInterface> {\n    return this.http.get<SaltInterface>(this.URL_BMS_API + '/salt/' + username);\n  }\n\n  logUser(vendor: Vendor) {\n    return this.http.post(this.URL_BMS_API + '/login_app', vendor)\n  }\n\n  login(vendor: Vendor) {\n    return new Promise<Vendor | string | null>((resolve, reject) => {\n      this.requestSalt(vendor.username).subscribe(success => {\n        let getSalt = success as SaltInterface;\n        vendor.salted_password = this.saltPassword(getSalt.salt, vendor.password);\n        delete vendor.password;\n        return this.logUser(vendor).subscribe(success => {\n          let data = success;\n          if (data) {\n            this.vendor = data as Vendor\n            this.vendor.salted_password = vendor.salted_password\n            this.vendor.loggedIn = true\n            this.storage.set('vendor', this.vendor)\n            resolve(this.vendor);\n          } else {\n            reject('Bad credentials')\n          };\n        \n        }, error => {\n          reject(this.handleError(error) || 'Bad credentials')\n        })\n      }, error => {\n        reject(this.handleError(error) || 'Bad credentials')\n      })\n    })\n  }\n\n  saltPassword(salt: string, password: string) : string {\n\t\tlet salted = password + '{' + salt + '}';\n\t\tlet digest = CryptoJS.SHA512(salted);\n\n\t\tfor (let i = 1; i < 5000; i++) {\n\t\t\tdigest = CryptoJS.SHA512(digest.concat(CryptoJS.enc.Utf8.parse(salted)));\n\t\t}\n\t\t\n\t\tlet saltedPassword = CryptoJS.enc.Base64.stringify(digest);\n\t\treturn saltedPassword;\n  }\n\n  handleError(error) {\n    if (error.error) {\n      if (typeof error.error === \"string\") {\n        return error.error\n      }\n      else if (error.error[0]) {\n        return error.error[0]\n      } else {\n        return null\n      }\n    } else {\n      return null\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/login/login.ts","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Storage } from '@ionic/storage';\nimport { map } from 'rxjs/operators';\n\n/*\n  Generated class for the WsseProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class WsseProvider {\n\n  private username: string;\n\tprivate salted: string;\n\tprivate chrsz = 8;\n\tprivate b64pad = '=';\n\n  constructor(public http: HttpClient, private storage: Storage) {\n  }\n\n  // Get headers for HTTP request\n\tgetHeaderValue(vendor?) {\n\t\treturn Observable.fromPromise(this.storage.get('vendor')).pipe(\n      map(\n        result => {\n            let cachedVendor = result;\n\n            if (cachedVendor) {\n                this.username = cachedVendor.user.username;\n                this.salted = cachedVendor.salted_password;\n            } else {\n                this.username = vendor.user.username;\n                this.salted = vendor.salted_password;\n            }\n    \n            let nonce = this.generateNonce(16);\n            let created = this.getDate(new Date());\n            let nonce64 = this.base64encode(nonce);\n            let digest = this.getDigest(nonce, created, this.salted);\n    \n            let header = 'UsernameToken Username=\\\"' + this.username + '\\\", PasswordDigest=\\\"' + digest + '\\\", Nonce=\\\"' + nonce64 + '\\\", Created=\\\"' + created + '\\\"';\n            return header;\n        }\n      )\n    );\n\t}\n\n\t//------------------------------------------------------------------------//\n\t//---------------------------------WSSE-----------------------------------//\n\t//------------------------------------------------------------------------//\n\n\t// Arbitrary number which is only used once to be sure old communications can't be reused\n\tgenerateNonce(lgth) {\n\t\tlet nonceChars = \"0123456789abcdef\";\n\t\tlet nonce = \"\";\n\n\t\tfor (let i = 0; i < lgth; i++) {\n\t\t\tnonce += nonceChars.charAt(Math.floor(Math.random() * nonceChars.length));\n\t\t}\n\n\t\treturn nonce;\n\t}\n\n\tsha1(exp, lgth) {\n\t\t// Add padding\n\t\texp[lgth >> 5] |= 0x80 << (24 - lgth % 32);\n\t\texp[((lgth + 64 >> 9) << 4) + 15] = lgth;\n\n\t\tlet newExp = new Array(80);\n\t\tlet a = 1732584193;\n\t\tlet b = -271733879;\n\t\tlet c = -1732584194;\n\t\tlet d = 271733878;\n\t\tlet e = -1009589776;\n\n\t\tfor (let i = 0; i < exp.length; i += 16) {\n\t\t\tlet oldA = a;\n\t\t\tlet oldB = b;\n\t\t\tlet oldC = c;\n\t\t\tlet oldD = d;\n\t\t\tlet oldE = e;\n\n\t\t\tfor (let j = 0; j < 80; j++) {\n\t\t\t\tif (j < 16) {\n\t\t\t\t\tnewExp[j] = exp[i + j];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tnewExp[j] = this.rol(newExp[j - 3] ^ newExp[j - 8] ^ newExp[j - 14] ^ newExp[j - 16], 1);\n\t\t\t\t}\n\t\t\t\tlet t = this.safeAdd(\n\t\t\t\t\tthis.safeAdd(this.rol(a, 5), this.sha1Ft(j, b, c, d)),\n\t\t\t\t\tthis.safeAdd(this.safeAdd(e, newExp[j]), this.sha1Kt(j))\n\t\t\t\t);\n\t\t\t\te = d;\n\t\t\t\td = c;\n\t\t\t\tc = this.rol(b, 30);\n\t\t\t\tb = a;\n\t\t\t\ta = t;\n\t\t\t}\n\t\t\ta = this.safeAdd(a, oldA);\n\t\t\tb = this.safeAdd(b, oldB);\n\t\t\tc = this.safeAdd(c, oldC);\n\t\t\td = this.safeAdd(d, oldD);\n\t\t\te = this.safeAdd(e, oldE);\n\t\t}\n\n\t\tlet sha1 = new Array(a, b, c, d, e);\n\t\treturn sha1;\n\t}\n\n\t// Rotate a 32-bit number to the left\n\trol(num, cnt) {\n\t\treturn (num << cnt) | (num >>> (32 - cnt));\n\t}\n\n\t// Add integers, wrapping at 2^32. This uses 16-bit operations internally to work around bugs in some JS interpreters\n\tsafeAdd(x, y) {\n\t\tlet lsw = (x & 0xFFFF) + (y & 0xFFFF);\n\t\tlet msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n\n\t\treturn (msw << 16) | (lsw & 0xFFFF);\n\t}\n\n\t// Perform the appropriate triplet combination function for the current iteration\n\tsha1Ft(t, b, c, d) {\n\t\tif (t < 20) return (b & c) | ((~b) & d);\n\t\tif (t < 40) return b ^ c ^ d;\n\t\tif (t < 60) return (b & c) | (b & d) | (c & d);\n\n\t\treturn b ^ c ^ d;\n\t}\n\n\t// Determine the appropriate additive constant for the current iteration\n\tsha1Kt(t) {\n\t\treturn (t < 20) ? 1518500249 : (t < 40) ? 1859775393 :\n\t\t\t(t < 60) ? -1894007588 : -899497514;\n\t}\n\n\tgetDate(date) {\n\t\tlet yyyy = date.getUTCFullYear();\n\t\tlet mm = date.getUTCMonth() + 1;\n\t\tlet dd = date.getUTCDate();\n\t\tlet hh = date.getUTCHours();\n\t\tlet mn = date.getUTCMinutes();\n\t\tlet ss = date.getUTCSeconds();\n\n\t\tif (mm < 10) { mm = \"0\" + mm; }\n\t\tif (dd < 10) { dd = \"0\" + dd; }\n\t\tif (hh < 10) { hh = \"0\" + hh; }\n\t\tif (mn < 10) { mn = \"0\" + mn; }\n\t\tif (ss < 10) { ss = \"0\" + ss; }\n\n\t\tlet newDate = yyyy + \"-\" + mm + \"-\" + dd + \"T\" + hh + \":\" + mn + \":\" + ss + \"Z\"\n\n\t\treturn newDate;\n\t}\n\n\tbase64encode(nonce) {\n\t\tlet nonce64 = btoa(nonce);\n\t\treturn nonce64;\n\t}\n\n\t// Convert an 8-bit or 16-bit string into an array of big-endian words\n\t// In 8-bit function, characters >255 have their hi-byte silently ignored\n\tstrToBin(str) {\n\t\tlet bin = [];\n\t\tlet mask = (1 << this.chrsz) - 1;\n\n\t\tfor (let i = 0; i < str.length * this.chrsz; i += this.chrsz) {\n\t\t\tbin[i >> 5] |= (str.charCodeAt(i / this.chrsz) & mask) << (24 - i % 32);\n\t\t}\n\n\t\treturn bin;\n\t}\n\n\t// Convert an array of big-endian words to a base-64 string\n\tbinTo64(binarray) {\n\t\tlet tab = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\t\tlet str = \"\";\n\n\t\tfor (let i = 0; i < binarray.length * 4; i += 3) {\n\t\t\tlet triplet = (((binarray[i >> 2] >> 8 * (3 - i % 4)) & 0xFF) << 16)\n\t\t\t\t| (((binarray[i + 1 >> 2] >> 8 * (3 - (i + 1) % 4)) & 0xFF) << 8)\n\t\t\t\t| ((binarray[i + 2 >> 2] >> 8 * (3 - (i + 2) % 4)) & 0xFF);\n\t\t\tfor (let j = 0; j < 4; j++) {\n\t\t\t\tif (i * 8 + j * 6 > binarray.length * 32) {\n\t\t\t\t\tstr += this.b64pad;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tstr += tab.charAt((triplet >> 6 * (3 - j)) & 0x3F);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn str;\n\t}\n\n\tgetDigest(nonce, created, salted) {\n\t\tlet mix = nonce + created + salted;\n\t\tlet sha1 = this.sha1(this.strToBin(mix), mix.length * this.chrsz);\n\n\t\tlet digest = this.binTo64(sha1);\n\t\treturn digest;\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/wsse/wsse.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\n\nimport { MyApp } from './app.component';\n\n// Pages\nimport { ScanPage } from '../pages/scan/scan';\nimport { LoginPage } from '../pages/login/login';\nimport { ProductsPage } from '../pages/products/products';\nimport { ConfirmationModal } from '../pages/confirmation-modal/confirmation-modal';\nimport { FormModal } from '../pages/form-modal/form-modal';\n\n// Components\nimport { ComponentsModule } from '../components/components.module';\n\n// Plugins\nimport { NgxQRCodeModule } from 'ngx-qrcode2';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\nimport { LoginProvider } from '../providers/login/login';\n\n// Material\nimport { MatButtonModule, MatSelectModule, MatSidenavModule, MatInputModule, MatListModule } from '@angular/material';\n\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\nimport { VoucherProvider } from '../providers/voucher/voucher';\nimport { IonicStorageModule } from '@ionic/storage';\nimport { SyncProvider } from '../providers/sync/sync';\nimport { WsseProvider } from '../providers/wsse/wsse';\nimport { httpInterceptorProviders} from '../interceptors/index-interceptors';\n\n\n@NgModule({\n  declarations: [\n    MyApp,\n\n    // Pages \n    ScanPage,\n    ProductsPage,\n    LoginPage,\n    ConfirmationModal,\n    FormModal,\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    NgxQRCodeModule,\n    BrowserAnimationsModule,\n    MatButtonModule,\n    MatSelectModule,\n    MatSidenavModule,\n    MatInputModule,\n    MatListModule,\n    HttpClientModule,\n    IonicStorageModule.forRoot(),\n    ComponentsModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n\n    // Pages\n    ScanPage,\n    ProductsPage,\n    LoginPage,\n    ConfirmationModal,\n    FormModal\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    httpInterceptorProviders,\n\n\n    // Plugins\n    BarcodeScanner,\n    LoginProvider,\n    VoucherProvider,\n    SyncProvider,\n    WsseProvider\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { LoginPage } from '../pages/login/login';\n// import { ProductsPage } from '../pages/products/products';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = LoginPage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","export const TEXT = {\n    // GENERAL VARIABLES\n\n    // Utils\n    email: 'Email',\n    project: 'Projet',\n    rights: 'Rôles',\n    \n   \n    // SPECIFIC VARIABLES\n\n    // Login\n    login_bms: 'Beneficiary management system',\n    login_forgot_password: 'Mot de passe oublié ?',\n    login_password: '*********',\n    login_title: 'Connexion',\n    login_username: 'identifiant',\n\n    // Model\n    model_countryIso3: 'Pays',\n    model_user: 'Utilisateur',\n    model_user_password: 'Mot de passe',\n    \n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/texts/global_fr.ts","export const TEXT = {\n    // GENERAL VARIABLES\n\n    // Utils\n    email: 'Email',\n    project: 'Project',\n    rights: 'Rights',\n\n\n    // SPECIFIC VARIABLES\n\n    // Login\n    login_bms: 'Beneficiary management system',\n    login_forgot_password: 'Forgot password?',\n    login_password: '*********',\n    login_title: 'login',\n    login_username: 'username',\n\n    // Model\n   \n    model_countryIso3: 'Country',\n    model_user: 'User',\n    model_user_password: 'Password',\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/texts/global_en.ts","export const TEXT = {\n    // GENERAL VARIABLES\n\n    // Utils\n    email: 'البريد الالكتروني',\n    project: 'المشروع',\n    rights: 'الحقوق',\n    \n    // SPECIFIC VARIABLES\n\n    // Login\n    login_bms: 'نظام إدارة المستفيدين',\n    login_forgot_password: 'هل نسيت كلمة المرور',\n    login_password: 'كلمة المرور',\n    login_title: ' تسجيل الدخول الى الحساب',\n    login_username: 'اسم المستخدم',\n\n    // Model\n    model_countryIso3: 'البلد',\n    model_user: 'المستخدم',\n    model_user_password: 'كلمة المرور',\n   };\n\n\n\n// WEBPACK FOOTER //\n// ./src/texts/global_ar.ts","import { NgModule } from '@angular/core';\nimport { HeaderComponent } from './header/header';\nimport { CalculatorComponent } from './calculator/calculator';\nimport { IonicModule } from 'ionic-angular';\nimport { MatButtonModule } from '@angular/material';\n\n\n@NgModule({\n\tdeclarations: [\n\t\tHeaderComponent,\n    \tCalculatorComponent\n\t],\n\timports: [\n\t\tIonicModule,\n\t\tMatButtonModule\n\t],\n\texports: [\n\t\tHeaderComponent,\n    \tCalculatorComponent\n\t]\n})\nexport class ComponentsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import { Component, Input } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { NavController } from 'ionic-angular';\nimport { LoginPage } from '../../pages/login/login';\nimport { SyncProvider } from '../../providers/sync/sync';\nimport { AlertController } from 'ionic-angular';\nimport { LoadingController } from 'ionic-angular';\n\n/**\n * Generated class for the HeaderComponent component.\n *\n * See https://angular.io/api/core/Component for more info on Angular\n * Components.\n */\n@Component({\n\tselector: 'header',\n\ttemplateUrl: 'header.html'\n})\nexport class HeaderComponent {\n\n\t@Input() title: string;\n\n\tloading: any;\n\n\tconstructor(\n        public navCtrl: NavController,\n\t\tprivate storage: Storage,\n\t\tprivate syncProvider: SyncProvider,\n\t\tprivate alertCtrl: AlertController,\n\t\tpublic loadingController: LoadingController) {\n\t}\n\n\tlogout() {\n\t\tthis.storage.get('vouchers').then(vouchers => {\n\t\t\tif (vouchers !== null && vouchers.length > 0) {\n\t\t\t\tlet alert = this.alertCtrl.create({\n\t\t\t\t\ttitle: 'Logout',\n\t\t\t\t\tsubTitle: 'You need to sync your data before loging out',\n\t\t\t\t\tbuttons: ['OK']\n\t\t\t\t  });\n\t\t\t\talert.present();\n\t\t\t} else {\n\t\t\t\tthis.storage.set('vendor', null)\n\t\t\t\tthis.navCtrl.setRoot(LoginPage);\n\t\t\t}\n\t\t})\n\t}\n\n\tsync() {\n\t\tthis.presentLoading()\n\t\tthis.storage.get('vouchers').then(vouchers => {\n\t\t\tthis.storage.get('deactivatedBooklets').then(booklets => {\n\t\t\t\t\tthis.syncProvider.sync(vouchers, booklets).then(success => {\n\t\t\t\t\t\tthis.storage.set('vouchers', [])\n\t\t\t\t\t\tthis.loading.dismiss();\n\t\t\t\t\t\tlet alert = this.alertCtrl.create({\n\t\t\t\t\t\t\ttitle: 'Sync',\n\t\t\t\t\t\t\tsubTitle: 'Data has been successfully sync',\n\t\t\t\t\t\t\tbuttons: ['OK']\n\t\t\t\t\t\t  });\n\t\t\t\t\t\talert.present();\n\t\t\t\t\t}, error => {\n\t\t\t\t\t\tthis.loading.dismiss();\n\t\t\t\t\t\tlet alert = this.alertCtrl.create({\n\t\t\t\t\t\t\ttitle: 'Sync',\n\t\t\t\t\t\t\tsubTitle: 'We were not able to sync you data, please verify your internet connection and retry.',\n\t\t\t\t\t\t\tbuttons: ['OK']\n\t\t\t\t\t\t  });\n\t\t\t\t\t\talert.present();\n\t\t\t\t\t})\n\t\t\t})\n\t\t})\n\t}\n\n\tasync presentLoading() {\n\t\n\t\tthis.loading = await this.loadingController.create({\n\t\t\tspinner: 'crescent',\n\t\t\tcontent: '<div>Please wait...</div>'\n\t\t});\n\t\treturn await this.loading.present();\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/header/header.ts","import { Component, Input, Output, EventEmitter } from '@angular/core';\n\n/**\n * Generated class for the CalculatorComponent component.\n *\n * See https://angular.io/api/core/Component for more info on Angular\n * Components.\n */\n@Component({\n\tselector: 'calculator',\n\ttemplateUrl: 'calculator.html'\n})\nexport class CalculatorComponent {\n\n\t@Input() value: number;\n    @Output() valueChange = new EventEmitter<number>();\n    \n\t@Output() addToBasketEvent = new EventEmitter<null>();\n\n\tconstructor() {}\n\n\tclickOnNumber(number) {\n        if (this.value && this.value != 0) {\n            this.value = this.value * 10 + number;\n        } else {\n            this.value = number;\n        }\n        this.valueChange.emit(this.value);\n\t}\n\n\tbackspace() {\n        this.value = Math.trunc(this.value / 10);\n\t\tthis.valueChange.emit(this.value);\n\t}\n\n\taddToBasket(product) {\n        this.addToBasketEvent.emit();\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/calculator/calculator.ts","/* \"Barrel\" of Http Interceptors */\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\n\nimport { AuthInterceptor } from './auth-interceptor';\n\n/** Http interceptor providers in outside-in order */\nexport const httpInterceptorProviders = [\n    { provide: HTTP_INTERCEPTORS, useClass: AuthInterceptor, multi: true }\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/interceptors/index-interceptors.ts","import { Injectable } from '@angular/core';\nimport {\n\tHttpEvent, HttpInterceptor, HttpHandler, HttpRequest\n} from '@angular/common/http';\n\nimport { WsseProvider } from '../providers/wsse/wsse';\nimport { map, concat, switchMap } from 'rxjs/operators';\n\n@Injectable()\nexport class AuthInterceptor implements HttpInterceptor {\n\n\tconstructor(\n\t\tprivate _wsseService: WsseProvider\n\t) { }\n\n\tintercept(req: HttpRequest<any>, next: HttpHandler) {\n\t\t// Do not add headers on salt request\n\t\tif (!/salt/.test(req.url)) {\n\t\t\tlet vendor;\n\t\t\t// On login pass the user credentials to the wsse service\n\t\t\tif (/login_app/.test(req.url)) {\n\t\t\t\tvendor = {\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tusername: req.body.username,\n\t\t\t\t\t\tsalted_password: req.body.salted_password\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n            \n\t\t\t// Get the auth token from the service.\n\t\t\treturn this._wsseService.getHeaderValue(vendor).pipe(\n                switchMap(\n                    header => {\n\t\t\t            // Clone the request & replace original headers with cloned headers, updated with the authorization.\n                        const authReq = req.clone({ setHeaders: { 'x-wsse': header } });\n                        // Send cloned request with header to the next handler.\n                        return next.handle(authReq);\n                    }\n                )\n            );\n\t\t}\n\n\t\treturn next.handle(req);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/interceptors/auth-interceptor.ts"],"sourceRoot":""}